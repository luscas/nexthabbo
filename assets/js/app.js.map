{"version":3,"sources":["components/_master.js","components/_navigation.js","components/_radio.js","components/_sockets.js","components/_view-topic.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/**\n * NextHabbo\n *\n * Henrique Arthur <eu@henriquearthur.com.br>\n */\n\nMaster = {\n    plugins: {\n        ellipsis: function() {\n            el = (typeof el === 'undefined') ? false : el;\n\n            if (!el) {\n                $('.ell').ellipsis();\n            } else {\n                // Makes it faster\n                el.find('.ell').ellipsis();\n            }\n        },\n        tooltip: function() {\n            $('[title]').tooltip();\n        },\n        vis: (function() {\n            var stateKey, eventKey, keys = {\n                hidden: \"visibilitychange\",\n                webkitHidden: \"webkitvisibilitychange\",\n                mozHidden: \"mozvisibilitychange\",\n                msHidden: \"msvisibilitychange\"\n            };\n\n            for (stateKey in keys) {\n                if (stateKey in document) {\n                    eventKey = keys[stateKey];\n                    break;\n                }\n            }\n\n            return function(c) {\n                if (c) document.addEventListener(eventKey, c);\n\n                return !document[stateKey];\n            };\n        })(),\n        init: function() {\n            Master.plugins.ellipsis();\n            Master.plugins.tooltip();\n        }\n    },\n    init: function() {\n        Master.plugins.init();\n    }\n}\n\n$(document).ready(function() {\n    Master.init();\n});\n","/**\n * NextHabbo\n *\n * Henrique Arthur <eu@henriquearthur.com.br>\n */\n\nNavigation = {\n    plugins: function() {\n        $('.navigation-menu').slick({\n            dots: false,\n            infinite: false,\n            arrows: false,\n            speed: 300,\n            slidesToShow: 5.3,\n            slidesToScroll: 1,\n            responsive: [{\n                    breakpoint: 1024,\n                    settings: {\n                        slidesToShow: 3.1,\n                        slidesToScroll: 1\n                    }\n                },\n                {\n                    breakpoint: 600,\n                    settings: {\n                        slidesToShow: 2.1,\n                        slidesToScroll: 1\n                    }\n                },\n                {\n                    breakpoint: 480,\n                    settings: {\n                        slidesToShow: 1.1,\n                        slidesToScroll: 1\n                    }\n                }\n            ]\n        });\n    },\n    loadPage: function(e) {\n        var el = $(this);\n\n        var link = el.attr('href');\n\n        if (link == \"#\" || el.hasClass(\"no-event\")) {\n            e.preventDefault();\n        } else if (el.attr(\"target\") == \"_blank\") {\n            window.open(link, \"_blank\");\n        } else {\n            e.preventDefault();\n\n            window.history.pushState(null, '', link);\n\n            $(\".navigation-wrapper-effect\").show();\n\n            $(\".navigation-effect-bar-1\").animate({\n                width: '100%'\n            }, {\n                duration: 400,\n                complete: function() {\n                    $(\".navigation-effect-bar-2\").animate({\n                        width: '100%'\n                    }, {\n                        duration: 200,\n                        complete: function() {\n                            $(\".navigation-wrapper-effect\").fadeOut('fast', function() {\n                                $(\".navigation-effect-bar-1, .navigation-effect-bar-2\").css({\n                                    'width': '0'\n                                });\n                            });\n                        }\n                    });\n                }\n            });\n\n\n\n            $.ajax({\n                url: link + '?pageloader=1',\n                type: 'GET',\n                dataType: 'json'\n            }).done(function(data) {\n                document.title = \"NextHabbo • \" + data.title;\n\n                $(\".page-content\").html(data.html);\n\n                Navigation.plugins();\n                Radio.volumeSlider();\n            })\n        }\n    },\n    init: function() {\n        $(document).on('click', 'a', Navigation.loadPage);\n\n        Navigation.plugins();\n    }\n}\n\n$(document).ready(function() {\n    Navigation.init();\n});\n","/**\n * NextHabbo\n *\n * Henrique Arthur <eu@henriquearthur.com.br>\n */\n\nRadio = {\n    volumeSlider: function() {\n        $(\".player-volume-slider\").slider({\n            range: \"min\",\n            min: 0,\n            value: 0,\n            slide: function(event, ui) {\n                var value = $(\"#player-volume-slider\").slider('value');\n\n                //audio.volume = (value / 100);\n            },\n            stop: function(event, ui) {\n                var value = $(\"#player-volume-slider\").slider('value');\n\n                //audio.volume = (value / 100);\n            }\n        });\n    },\n    control: function() {\n        if ($(\".radio-control\").data('status') == 'playing') {\n            $(\".radio-control\").data('status', 'paused').html('<i class=\"icn play x4\"></i>').attr('title', 'Tocar a rádio').tooltip('hide');\n\n            if (window.parent.playerFrame) {\n                window.parent.playerFrame.pause();\n            } else {\n                document.getElementById(\"stream-site\").pause();\n            }\n\n            Cookies.set('radio_player', 'paused');\n        } else {\n            if (window.parent.playerFrame) {\n                window.parent.playerFrame.play();\n            } else {\n                var promise = document.getElementById(\"stream-site\").play();\n\n                if (promise !== undefined) {\n                    promise.then(_ => {\n                        console.log(\"[Stream-Site] Play successful\");\n                    }).catch(error => {\n                        console.log(\"[Stream-Site] Play failed\", error);\n                    });\n                }\n            }\n\n            $(\".radio-control\").data('status', 'playing').html('<i class=\"icn stop x4\"></i>').attr('title', 'Pausar a rádio').tooltip('hide');\n            Cookies.set('radio_player', 'playing');\n        }\n    },\n    initSocket: function() {\n        Sockets.socket.on(\"shoutcast-data\", function(data) {\n            $(\".radio-info-avatar\").css('background-image', 'url(' + data.broadcasterData.avatar + ');');\n            $(\".radio-info-broadcaster\").text(data.broadcaster);\n            $(\".radio-info-program\").text(data.program);\n            $(\".radio-info-listeners\").text(data.listeners);\n        });\n    },\n    init: function() {\n        Radio.volumeSlider();\n\n        if (!window.parent.playerFrame || localStorage.getItem('radio_play') == 'not_allowed' || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            $(\".radio-control\").data('status', 'paused').html('<i class=\"icn play x4\"></i>').attr('title', 'Tocar a rádio').tooltip('hide');\n        }\n\n        $(\".radio-control\").on('click', Radio.control);\n    }\n}\n\n$(document).ready(function() {\n    Radio.init();\n});\n\n$(window).on('connected-to-socket', function () {\n    Radio.initSocket();\n});\n","/**\n * NextHabbo\n *\n * Henrique Arthur <eu@henriquearthur.com.br>\n */\n\nSockets = {\n    socket: false,\n    init: function() {\n        Sockets.socket = io.connect(\"http://\" + Sockets.hostname + \":\" + Sockets.port);\n\n        Sockets.socket.on(\"connected-to-socket\", function() {\n            var evt = $.Event('connected-to-socket');\n            $(window).trigger(evt);\n        });\n    }\n};\n\n$(document).ready(function() {\n    // init must be on master template because of hostname and port variables\n    // Sockets.init();\n});\n","/**\n * NextHabbo\n *\n * Henrique Arthur <eu@henriquearthur.com.br>\n */\n\nViewTopic = {\n    goTopic: function() {\n        $(\"html, body\").animate({\n            scrollTop: $('.topic-entry').offset().top\n        }, 1000);\n    },\n    goReply: function() {\n        $(\"html, body\").animate({\n            scrollTop: $('.topic-first-reply').offset().top\n        }, 1000);\n    },\n    init: function() {\n        $(document).on('click', '.view-topic-go-topic', ViewTopic.goTopic);\n        $(document).on('click', '.view-topic-go-reply', ViewTopic.goReply);\n    }\n}\n\n$(document).ready(function() {\n    ViewTopic.init();\n});\n"]}